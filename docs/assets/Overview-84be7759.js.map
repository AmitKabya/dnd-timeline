{"version":3,"file":"Overview-84be7759.js","sources":["../../stories/Overview.mdx"],"sourcesContent":["import { Canvas } from '@storybook/blocks'\nimport { Basic } from './2 - External/External.stories.tsx'\nimport { StackedItems, DisabledRows } from './1 - Timeline/Timeline.stories.tsx'\n\n# Overview\n\n#### A headless timeline library, based on [`dnd-kit`](https://docs.dndkit.com/)\n\n- **Headless:** `dnd-timeline` is a headless-ui library, and contains 0 styling, aside from functional styling (position, z-index, etc.).\n- **Hook-based:** exposes simple hooks like `useItem` and `useRow`, that should integrate seamlessly into your existing architecture.\n- **Flexible:** very slim and flexible by design. `dnd-timeline` exposes utility functions and positional styling, and you can use them in conjunction with you favorite libraries - styling libraries (MUI, tailwindcss, ant-design, etc.), and functional libraries (react-virtual, framer-motion, etc.)\n- **Based on [`dnd-kit`](https://docs.dndkit.com/):** all features exposed by the [`dnd-kit`](https://docs.dndkit.com/) library are applicable to dnd-timeline.\n- **Performant:** renders only when needed. All the intermediate states and animations are done using css transformations, and require 0 re-renders.\n- **RTL:** `dnd-timeline` nativly supports RTL. simply declare one of the parent divs as rtl with `dir=\"rtl\"`, and thats it.\n\n## Features\n\n- **Stacked rows:** Items whose relevance's intersect are stacked on top of each other inside the same row.\n- **Snap to Grid:** Items snap into a pre-defined grid when dropped, that can be changed according to zoom level.\n- **Time Axis:** An optional time axis can be displayed, with different markers according to zoom level.\n- **Time Cursor:** An optional time cursor indicating the current time on top of the timeline.\n- **Pan and zoom:** You can zoom by holding <kbd>Ctrl</kbd> and scrolling using the mouse wheel, and pan by holding <kbd>Ctrl + Shift</kbd> scrolling using the mouse wheel.\n  <Canvas of={StackedItems} />\n- **Dynamically disabled rows and items:** Items and Rows can be disabled according to a client-defined logic.\n  <Canvas of={DisabledRows} />\n- **Integration with external DnD:** The timeline can be used in conjunction with other DnD interactions in you app, to drag items into and outside of the timeline.\n  <Canvas of={Basic} />\n\n## How does it work?\n\n`dnd-timeline` uses the `data` field provided on `dnd-kit`'s `useDraggable` hook, to forward date utils to your event handlers.  \nThe `TimelineContext` also exposes a `TimelineBag` object, which incudes a set of helpers to work with the timeline.\n\nIn order to handle a change in an item's relevance, all you need to do is to handle the `onDragEnd` event, and use the provided helper to infer the updated item relevance:\n\n```tsx\nconst onDragEnd = (event: DragEndEvent) => {\n  const overedId = event.over?.id.toString()\n  if (!overedId) return\n\n  const activeItemId = event.active.id\n\n  const getRelevanceFromDragEvent =\n    event.active?.data?.current?.getRelevanceFromDragEvent\n\n  const updatedRelevance = getRelevanceFromDragEvent(event)\n\n  // update item with id activeItemId with the updatedRelevance, or the updated row using overedId\n}\n```\n\nThis is true for all `dnd-kit` supported handlers:\n\n- `onDragStart`\n- `onDragEnd`\n- `onDragMove`\n- `onDragCancel`\n\n`dnd-timeline` adds a set of 4 more handlers, to handle the resize event:\n\n- `onResizeStart` (WIP)\n- `onResizeEnd`\n- `onResizeMove` (WIP)\n- `onResizeCancel` (WIP)\n\nThese events act just like the `dnd-kit` event, except that the event looks a bit different:\n\n```ts\ntype ResizeEvent = {\n  active: Omit<Active, 'rect'> // dnd-kit's Active type\n  delta: {\n    x: number\n  }\n  direction: DragDirection // 'start' | 'end'\n}\n```\n\nThe resize events' data already contains the updated relevance.\n\n```tsx\nconst onResizeEnd = (event: ResizeEndEvent) => {\n  const updatedRelevance = event.active.data.current?.relevance\n  if (!updatedRelevance) return\n\n  const activeItemId = event.active.id\n\n  // update activeItemId's relevance with the updatedRelevance\n}\n```\n\n### External items\n\nTo handle external items, you will need to pass the dnd-timeline's helpers when defining your draggabale items:\n\n```tsx\nconst { getRelevanceFromDragEvent, millisecondsToPixels } = useTimelineContext()\n\nconst { attributes, isDragging, listeners, setNodeRef, transform, transition } =\n  useItem({\n    id: props.id,\n    disabled: props.disabled,\n    data: {\n      getRelevanceFromDragEvent,\n      duration: props.duration, // the getRelevanceFromDragEvent also knows how to handle duration\n    },\n  })\n```\n\nFor non-timeline items, like an external item, you will need to provide a `duration` field describing the items duration in milliseconds.  \n`dnd-timeline` will use it to infer its location in the timeline when dropped in and pass it through the event for you to add a new timeline item.\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Canvas","StackedItems","DisabledRows","Basic","MDXContent","MDXLayout"],"mappings":"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"}